@page
@using X.PagedList.Mvc.Core
@model AcademicoSFA.Pages.Participante.IndexModel
@{
    ViewData["Title"] = "Docentes";
}
<style>
    .bg-custom-header {
        background-color: #bc2b2b;
        color: white;
    }

    /* Mejoras de diseño */
    .actions-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
    }

    .search-container {
        flex-grow: 1;
        max-width: 500px;
    }

    .pagination {
        justify-content: center;
        margin-top: 1.5rem;
    }

    .table-responsive {
        margin-top: 1rem;
    }

    .header-container {
        display: flex;
        align-items: center;
        margin-bottom: 1rem;
    }

    .counter-badge {
        background-color: #f8f9fa;
        padding: 0.25rem 0.75rem;
        border-radius: 50px;
        font-size: 0.9rem;
        margin-left: 0.5rem;
        border: 1px solid #dee2e6;
    }

    .alert-custom {
        border-left: 4px solid #17a2b8;
    }
</style>

<!-- Cabecera principal mejorada -->
<div class="row mb-3">
    <div class="col-md-12">
        <div class="header-container">
            <img alt="Logo SFA" src="imagenes/logoSFA.png" width="50" height="50" class="rounded-circle border me-3" />
            <h4 class="fw-bold text-primary mb-0">Gestión de Docentes</h4>
        </div>
    </div>
</div>

<div class="alert alert-info mt-3 alert-custom" role="alert">
    <i class="fa-solid fa-info-circle"></i> &nbsp;Registre nuevos docentes, actualice información existente o consulte el directorio del personal académico. Este módulo centraliza toda la información necesaria para la administración del cuerpo docente.
</div>

<!-- Contenedor de acciones (búsqueda y botón crear) -->
<div class="actions-container">
    <!-- Buscador -->
    <div class="search-container">
        <form method="get" class="d-flex">
            <div class="input-group">
                <input type="text" name="TerminoBusqueda" value="@Model.TerminoBusqueda" class="form-control" placeholder="Buscar por nombre, apellido o documento...">
                <button type="submit" class="btn btn-primary">
                    <i class="fa-solid fa-search"></i>
                </button>
                @if (!string.IsNullOrEmpty(Model.TerminoBusqueda))
                {
                    <a href="@Url.Page("./Index")" class="btn btn-outline-secondary">
                        <i class="fa-solid fa-times"></i>
                    </a>
                }
            </div>
        </form>
    </div>

    <!-- Botón crear y contador -->
    <div class="d-flex align-items-center">
        <span class="counter-badge">
            <i class="fa-solid fa-chalkboard-teacher"></i> @Model.Participantes.Count Registros
        </span>
        <a class="btn btn-success ms-3" asp-page="Create">
            <i class="fa-solid fa-plus"></i> &nbsp;Crear Docente
        </a>
    </div>
</div>

<!-- Tabla de datos con responsive -->
<div class="table-responsive">
    <table class="table table-hover table-bordered table-striped">
        <thead class="bg-custom-header text-white text-center">
            <tr>
                <th>NOMBRE</th>
                <th>APELLIDO</th>
                <th>DOCUMENTO</th>
                <th>CORREO INSTITUCIONAL</th>
                <th class="text-center">ACCIONES</th>
            </tr>
        </thead>
        <tbody>
            @if (Model.ParticipantesPagedList.Any())
            {
                @foreach (var item in Model.ParticipantesPagedList)
                {
                    <tr>
                        <td>@Html.DisplayFor(modelItem => item.Nombre)</td>
                        <td>@Html.DisplayFor(modelItem => item.Apellido)</td>
                        <td>@Html.DisplayFor(modelItem => item.Documento)</td>
                        <td>@Html.DisplayFor(modelItem => item.Email)</td>
                        <td class="text-center">
                            <a asp-page="./Edit" asp-route-id="@item.Id" class="btn btn-secondary btn-sm">
                                <i class="fa-solid fa-pen-square"></i>&nbsp;Modificar
                            </a> |
                            <a asp-page="./Delete" asp-route-id="@item.Id" class="btn btn-danger btn-sm">
                                <i class="fa-solid fa-trash"></i>&nbsp;Eliminar
                            </a>
                        </td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="5" class="text-center py-4">
                        <i class="fa-solid fa-info-circle text-info me-2"></i>
                        No se encontraron registros que coincidan con la búsqueda.
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<!-- Paginación -->
<div class="pagination">
    @Html.PagedListPager(Model.ParticipantesPagedList,
            page => Url.Page(null, new { Pagina = page, TerminoBusqueda = Model.TerminoBusqueda }),
            new PagedListRenderOptions
    {
        LiElementClasses = new string[] { "page-item" },
        PageClasses = new string[] { "page-link" },
        UlElementClasses = new string[] { "pagination" }
    })
</div>